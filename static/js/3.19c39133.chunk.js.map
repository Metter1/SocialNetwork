{"version":3,"sources":["assets/images/next-arrow.svg","assets/images/left-arrow.svg","components/common/paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Users/users.module.css","components/common/paginator/Paginator.module.css"],"names":["Paginator","totalUsersCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPotrionPageNumber","className","s","paginator","src","leftArrow","alt","pagination_btn","onClick","pagination_btnHidden","filter","p","map","cn","pageActive","page","e","nextArrow","Users","props","users","u","user","to","id","photos","small","photo","block","user__name","name","user__status","status","followed","disabled","followingInProgress","some","unfollow","btn_unfollow","follow","btn_follow","getUsersS","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPIComponent","pageNumber","getPageNum","this","getUsers","Preloader","toggleIsFollowingProgress","React","Component","compose","connect","followSuccess","unfollowSuccess","module","exports"],"mappings":"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","file":"static/js/3.19c39133.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/next-arrow.2dc7a76f.svg\";","export default __webpack_public_path__ + \"static/media/left-arrow.8d435aeb.svg\";","import React, { useState } from 'react'\r\nimport s from './Paginator.module.css'\r\nimport cn from 'classnames'\r\nimport nextArrow from '../../../assets/images/next-arrow.svg'\r\nimport leftArrow from '../../../assets/images/left-arrow.svg'\r\n\r\n\r\nexport default function Paginator({ totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPotrionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 ? <img src={leftArrow} alt='arrow' className={s.pagination_btn} onClick={() => {\r\n                setPortionNumber(portionNumber - 1);\r\n                onPageChanged((portionNumber - 1) * portionSize)\r\n            }}/> : <img src={leftArrow} alt='arrow' className={s.pagination_btnHidden}/>}\r\n            {\r\n                pages.filter(p => (p >= leftPortionPageNumber && p <= rightPotrionPageNumber))\r\n                    .map(p => {\r\n                        return <span className={cn({ [s.pageActive]: currentPage === p }, s.page)}\r\n                            key={p} onClick={(e) => { onPageChanged(p) }}>\r\n                            {p}\r\n                        </span>\r\n                    })\r\n            }\r\n            {portionCount > portionNumber ? <img src={nextArrow} alt='arrow' className={s.pagination_btn} onClick={() => {\r\n                setPortionNumber(portionNumber + 1);\r\n                onPageChanged((portionNumber) * portionSize + 1)\r\n            }}/> : <img src={nextArrow} alt='arrow' className={s.pagination_btnHidden}/>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport s from './users.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from './../common/paginator/Paginator';\r\n\r\nexport default function Users(props) {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <Paginator totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} currentPage={props.currentPage} onPageChanged={props.onPageChanged} />\r\n            <div className={s.users}>\r\n                {\r\n                    props.users.map(u => {\r\n                        return (\r\n                            <div className={s.user} key={u.id}>\r\n                                <NavLink to={'/profile/' + u.id}>\r\n                                    <img src={u.photos.small != null ? u.photos.small : 'https://www.svgrepo.com/show/213315/avatar-profile.svg'}\r\n                                        alt={u.id} className={s.photo} />\r\n                                </NavLink>\r\n                                <div className={s.block}>\r\n                                    <NavLink to={'/profile/' + u.id}>\r\n                                        <span className={s.user__name}>{u.name}</span>\r\n                                    </NavLink>\r\n                                    <span className={`${s.user__name} ${s.user__status}`}>{u.status}</span>\r\n                                </div>\r\n                                {u.followed ?\r\n                                    <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                        onClick={() => { props.unfollow(u.id) }} className={s.btn_unfollow}>unfollow</button> :\r\n\r\n                                    <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                        onClick={() => { props.follow(u.id) }} className={s.btn_follow}>follow</button>}\r\n\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div >\r\n    )\r\n}","export const getUsersS = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { followSuccess, unfollowSuccess, toggleIsFollowingProgress, getUsers, getPageNum, follow, unfollow } from './../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader.jsx';\r\nimport { compose } from 'redux';\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsersS } from '../../redux/users-selectors';\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getPageNum(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n\r\n            <Users onPageChanged={this.onPageChanged}\r\n                currentPage={this.props.currentPage}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                users={this.props.users}\r\n                toggleIsFollowingProgress={this.props.toggleIsFollowingProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersS(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { followSuccess, unfollowSuccess, follow, unfollow, toggleIsFollowingProgress, getUsers, getPageNum }),\r\n)(UsersAPIComponent)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"users_users__1Z6sU\",\"user\":\"users_user__3JsnY\",\"photo\":\"users_photo__YC3Br\",\"btn_follow\":\"users_btn_follow__23Srt\",\"btn_unfollow\":\"users_btn_unfollow__36OVd\",\"user__name\":\"users_user__name__r9-aI\",\"user__status\":\"users_user__status__J1P9-\",\"block\":\"users_block__1eaZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__WzW0s\",\"page\":\"Paginator_page__15owm\",\"pageActive\":\"Paginator_pageActive__2X-OS\",\"pagination_btn\":\"Paginator_pagination_btn__1Kx_y\",\"pagination_btnHidden\":\"Paginator_pagination_btnHidden__1J4sl\"};"],"sourceRoot":""}