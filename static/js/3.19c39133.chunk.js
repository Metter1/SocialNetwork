(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{100:function(e,s,t){"use strict";t.r(s);var n=t(32),a=t(33),o=t(36),r=t(35),i=t(1),c=t.n(i),l=t(12),u=t(60),g=t(98),p=t.n(g),_=t(22),f=t(25),b=t(13),d=t(99),h=t.n(d),j=t(29),w=t.n(j),m=t.p+"static/media/next-arrow.2dc7a76f.svg",P=t.p+"static/media/left-arrow.8d435aeb.svg",O=t(0);function x(e){for(var s=e.totalUsersCount,t=e.pageSize,n=e.currentPage,a=e.onPageChanged,o=e.portionSize,r=void 0===o?10:o,c=Math.ceil(s/t),l=[],u=1;u<=c;u++)l.push(u);var g=Math.ceil(c/r),p=Object(i.useState)(1),_=Object(b.a)(p,2),d=_[0],j=_[1],x=(d-1)*r+1,v=d*r;return Object(O.jsxs)("div",{className:h.a.paginator,children:[d>1?Object(O.jsx)("img",{src:P,alt:"arrow",className:h.a.pagination_btn,onClick:function(){j(d-1),a((d-1)*r)}}):Object(O.jsx)("img",{src:P,alt:"arrow",className:h.a.pagination_btnHidden}),l.filter((function(e){return e>=x&&e<=v})).map((function(e){return Object(O.jsx)("span",{className:w()(Object(f.a)({},h.a.pageActive,n===e),h.a.page),onClick:function(s){a(e)},children:e},e)})),g>d?Object(O.jsx)("img",{src:m,alt:"arrow",className:h.a.pagination_btn,onClick:function(){j(d+1),a(d*r+1)}}):Object(O.jsx)("img",{src:m,alt:"arrow",className:h.a.pagination_btnHidden})]})}function v(e){for(var s=Math.ceil(e.totalUsersCount/e.pageSize),t=[],n=1;n<=s;n++)t.push(n);return Object(O.jsxs)("div",{children:[Object(O.jsx)(x,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),Object(O.jsx)("div",{className:p.a.users,children:e.users.map((function(s){return Object(O.jsxs)("div",{className:p.a.user,children:[Object(O.jsx)(_.b,{to:"/profile/"+s.id,children:Object(O.jsx)("img",{src:null!=s.photos.small?s.photos.small:"https://www.svgrepo.com/show/213315/avatar-profile.svg",alt:s.id,className:p.a.photo})}),Object(O.jsxs)("div",{className:p.a.block,children:[Object(O.jsx)(_.b,{to:"/profile/"+s.id,children:Object(O.jsx)("span",{className:p.a.user__name,children:s.name})}),Object(O.jsx)("span",{className:"".concat(p.a.user__name," ").concat(p.a.user__status),children:s.status})]}),s.followed?Object(O.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===s.id})),onClick:function(){e.unfollow(s.id)},className:p.a.btn_unfollow,children:"unfollow"}):Object(O.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===s.id})),onClick:function(){e.follow(s.id)},className:p.a.btn_follow,children:"follow"})]},s.id)}))})]})}var C=t(31),N=t(24),S=function(e){return e.usersPage.users},k=function(e){return e.usersPage.pageSize},z=function(e){return e.usersPage.totalUsersCount},U=function(e){return e.usersPage.currentPage},I=function(e){return e.usersPage.isFetching},y=function(e){return e.usersPage.followingInProgress},F=function(e){Object(o.a)(t,e);var s=Object(r.a)(t);function t(){var e;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=s.call.apply(s,[this].concat(o))).onPageChanged=function(s){e.props.getPageNum(s,e.props.pageSize)},e}return Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[this.props.isFetching?Object(O.jsx)(C.a,{}):null,Object(O.jsx)(v,{onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow})]})}}]),t}(c.a.Component);s.default=Object(N.c)(Object(l.b)((function(e){return{users:S(e),pageSize:k(e),totalUsersCount:z(e),currentPage:U(e),isFetching:I(e),followingInProgress:y(e)}}),{followSuccess:u.c,unfollowSuccess:u.h,follow:u.b,unfollow:u.g,toggleIsFollowingProgress:u.f,getUsers:u.e,getPageNum:u.d}))(F)},98:function(e,s,t){e.exports={users:"users_users__1Z6sU",user:"users_user__3JsnY",photo:"users_photo__YC3Br",btn_follow:"users_btn_follow__23Srt",btn_unfollow:"users_btn_unfollow__36OVd",user__name:"users_user__name__r9-aI",user__status:"users_user__status__J1P9-",block:"users_block__1eaZG"}},99:function(e,s,t){e.exports={paginator:"Paginator_paginator__WzW0s",page:"Paginator_page__15owm",pageActive:"Paginator_pageActive__2X-OS",pagination_btn:"Paginator_pagination_btn__1Kx_y",pagination_btnHidden:"Paginator_pagination_btnHidden__1J4sl"}}}]);
//# sourceMappingURL=3.19c39133.chunk.js.map